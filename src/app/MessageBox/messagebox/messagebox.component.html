<div class="message-input-container" style="flex-shrink: 0;">
  <div *ngIf="uploadedFiles" class="upload-list-container">
    <div class="preview-item">
      <!-- Image preview -->
      <img *ngIf="isImage(uploadedFiles.name)" [src]="previewImage" alt="Image preview" class="preview-image">
            
      <!-- Video icon -->
      <img *ngIf="isVideo(uploadedFiles.name)" src="assets/videoicon.png" alt="Video preview" class="preview-icon">

      <!-- Document icon -->
      <img *ngIf="isDocument(uploadedFiles.name)" src="assets/docicon.jpg" alt="Document preview" class="preview-icon">
      
      <div class="file-details">
        <span class="file-name">{{ uploadedFiles.name }}</span>
        <button class="remove-button" (click)="removeFile()">Remove</button>
      </div>

    </div>
  </div>
  
  <!-- Message Text Field -->
  <div class="input-button-container">
    <span nz-icon nzType="plus-circle" nzTheme="fill" class="icon-plus-circle" (click)="triggerFileInput()"></span>
    <input type="file" name="file" id="fileInput" style="display: none;" (change)="onFileSelected($event)"
    accept="image/jpeg, image/png, image/webp,
    .mp4, .mkv, .pdf, .doc, .docx, .txt"/>

    <input nz-input type="text" class="message-input" [(ngModel)]="messageText"
    (keydown.enter)="onSendMessage($event)" placeholder="Type a message..." nzSize="default"/>

    <!-- Send Message Button -->
    <button nz-button nzType="primary" #sendButton (click)="onSendMessage($event)"
    [disabled]="!messageText.trim() && uploadedFiles === null || sendCooldownOn">
      <span>Send</span>
      <span nz-icon nzType="send" class="icon-send"></span>
    </button>


  </div>
</div>